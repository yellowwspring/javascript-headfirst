<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Function</title>
    <style>
        body{
            font-family: sans-serif ;
            font-size: large;
        }
    </style>
    <script>
        // можно записывать функии двумя способами
        function quack(num){
            for(let i = 0; i < num; i++){
                console.log("Quack!!!");
            }
        }
        quack(3);
        // второй способ:
        let fly = function(num){
            for(let i = 0; i < num; i++){
                console.log("FLYING!!");
            }
        }
        fly(5);
        /*Ссылка на функцию — это... Да в общем
        именно то, что следует из названия, —ссылка, которая указывает на функцию.
            Ссылки могут использоваться для вызова функции. Кроме того, их можно
        присваивать переменным, сохранятьв объектах, передавать и возвращать
        из функций (как и ссылки на объекты)*/
        let superquack = quack;
        superquack(10);

        //passing functions to other functions | передача функций другим функциям
        let passengers = [ { name: "Jane Doloop", paid: true },
            { name: "Dr. Evel", paid: true },
            { name: "Sue Property", paid: false },
            { name: "John Funcall", paid: true } ];
        // внутри массива объекты со свойствами name и paid
        function checkPaid(passengers) {
            for(let i = 0; i < passengers.length; i++) {
                if (!passengers[i].paid) {
                    return false;
                }
            }
            return true;
        }

        function printPassengers(passengers) {
            for(let i = 0; i < passengers.length; i++) {
                console.log(passengers[i].name);
                return false;
            }
            return true;
        }
        /*функция вывода списка отличается только тем, что в ней вообще нет проверки (вместо этого данные пассажира
        передаются console.log) и возвращаемое значение игнорируется. При этом функция все равно перебирает список пассажиров.*/

        /*нужна функция, которая получает список пассажиров, и другая функция, которая умеет
        проверять отдельного пассажира по заданному условию (например, присутствие пассажира
        в «черном списке»). Вот как это делается:*/

        /* 1-параметр --передется массив пассажиров.
           2-ой параметр -- содержит функцию,которая умеет проверять некоторое условие для пассажира.
         */
        function processPassengers(passengers, testFunction) {
            for(let i = 0; i < passengers.length; i ++) { //В цикле последовательно перебираем всех пассажиров.
                if(testFunction(passengers[i])){ // вызов проверочной функции для каждого пассажира
                    return false; //Если проверочная функция возвращает true,то мы возвращаем false. Иначе говоря, если
                    //пассажир не прошел проверку (не заплатил за билет, входит в «черный список» и т. д.),вылет следует запретить!
                }
            }
            return true;
            //Если управление передано в эту точку, значит, все пассажиры прошли проверку, и функция возвращает true.
        }


    </script>
</head>
<body>
<h1>Функции и Первоклассное значение</h1>
<ul>С первоклассным значением можно выполнять следующие операции:
    <li>присвоить значение переменной(или сохранить его в структуре данных - такой, как массив или объект)</li>
    <li>передать значение функции</li>
    <li>вернуть значение функции</li>
</ul>
</body>
</html>